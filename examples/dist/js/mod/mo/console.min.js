define("mo/console",["mo/lang","mo/browsers","mo/template/string","mo/domready"],function(t,e,n){function i(t,e){e=e||{};var n=(""+t).trim().match(c)[1].trim().replace(/return\s+/,"").replace(/;$/,"");s.info("run `"+n+"`");try{s.info(t())}catch(i){s.error(e.showStack?i:i.message)}}function r(e){return function(){t.isFunction(a[e])&&a[e].apply(s,arguments),s.cc('<p><span class="type type-'+e+'"></span>'+'<span class="log">'+Array.prototype.slice.call(arguments).map(o,e).join('</span><span class="log">')+"</span></p>")}}function o(t){var i=this;return t instanceof Error?(t=t.stack?t.stack.split(/at\s/):[t.message],t.map(function(t){return o("at "+t,i)}).join("<br>")):"log"==""+i||!t||"object"!=typeof t||e.aosp&&1===t.nodeType?(t+="","string"==typeof t?n.escapeHTML(t):t):(t=['<span class="obj-start">'+n.escapeHTML("{")+"</span>",Object.keys(t).map(function(t){var e;try{e=this[t]}catch(r){e=r.message}return"string"==typeof e?e='"'+e+'"':e+="",'<span class="obj-item"><span class="obj-k">'+o(t,i)+': </span><span class="obj-v">'+("string"==typeof e?n.escapeHTML(e):e)+"</span>,</span>"},t).join(""),'<span class="obj-end">'+n.escapeHTML("}")+"</span>"].join(""),'<span class="obj-wrap"><span class="obj-overview">'+t+'</span><span class="obj-end">...}</span><span class="obj-detail">'+t+"</span></span></span>")}var s=this.console=this.console||{},a={log:s.log,info:s.info,warn:s.warn,error:s.error},c=/^function[^(]*\([^)]*\)[^{]*\{([.\s\S]*)\}$/;return s._ccBuffer=[],s.config=function(t){return t.output&&(this._ccOutput=t.output,this._ccOutput.innerHTML=this._ccBuffer.join("")),void 0!==t.record&&(this._recording=t.record,t.record||s.cc()),this},s.enable=function(){for(var t in a)s[t]=r(t);return s.run=i,this},s.disable=function(){for(var t in a)s[t]=a[t];return s.run=s.log,this},s.cc=function(t){if(void 0===t)return this._ccBuffer.join("");this._ccBuffer.push(t);var e=this._ccBuffer.join("");return this._recording||this._ccOutput&&(this._ccOutput.innerHTML=e),e},s});